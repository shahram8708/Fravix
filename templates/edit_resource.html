{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h2>Edit Resource</h2>

    <!-- Loading Indicator -->
    <div id="loadingIndicator" style="display:none; text-align:center;">
        <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p>Updating resource, please wait...</p>
    </div>

    <form method="POST" onsubmit="showLoading()">
        <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <textarea class="form-control" name="description" id="description"
                required>{{ resource.description }}</textarea>
        </div>
        <div class="mb-3">
            <label for="file_url" class="form-label">File URL</label>
            <input type="url" class="form-control" name="file_url" id="file_url" value="{{ resource.file_url }}"
                required>
        </div>
        <button type="submit" class="btn btn-primary">Update Resource</button>
    </form>

    <a href="{{ url_for('resource_detail', resource_id=resource.id) }}" class="btn btn-secondary mt-3">Cancel</a>
</div>

<script>
    function showLoading() {
        document.getElementById('loadingIndicator').style.display = 'block';
    }
</script>
{% endblock %}